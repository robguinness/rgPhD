\chapter{Introduction}
\label{ch:intro}

\section{Background and Motivation}
\label{sec:motivation}

We are currently witnessing an era of technological convergence that rivals some of the great technological upheavals of modern history\footnote{By ``technological convergence'', we mean that a set of technologies has undergone rapid advances simultaneously and thus have become available for technological uptake in combinatorial ways.}. The steam engine, the electric lamp, the transistor, the jetliner, the artificial satellite---it is in this same revered company that we can place the technological revolution we are now undergoing. According to authors Erik Brynjolfsson and Andrew McAfee, we are living in a ``second machine age'' (where the first machine age began with James Watt's steam engine), which they describe as ``an inflection point in the history of our economies and societies because of digitization'' \cite[p. 11]{brynjolfsson_2014}. They define digitization as ``converting things into bits that can be stored on a computer and sent over a network'' \cite[p. 10]{brynjolfsson_2014}. The resulting digital information has remarkably different properties from the industrial products of the first machine age, a topic which Brynjolfsson and McAfee explore in detail in their book. They define ``digital technologies'' as ``those that have computer hardware, software, and networks at their core'' \cite[p. 9]{brynjolfsson_2014}. It is within this wider context of digital technologies and the second machine age that this thesis is best understood.

Digital technology is a broad category; therefore, it is useful to narrow the focus to a few key technologies that are driving the development of the second machine age. There are four specific technologies that have particular relevance to this thesis: (1) mobile telecommunication devices, (2) the Internet, (3) positioning technologies, and (4) a wide range of inexpensive yet highly capable sensors, namely \gls{mems}. We note that these four technologies have converged over the course of a few decades, so that the changes are clearly evident within one human generation (i.e. 20-30 years). All of these technologies came to a technological crossroads in the late 20th century and early 21st century, so that a child born and raised in the 21st century will have vastly different technological possibilities, compared to one born and raised in the 20th century.

The applications arising from this technological convergence span many different areas, and we have no intention to cover these applications exhaustively in this thesis. Instead we focus on one application area---navigation. This research scope of this thesis will be further defined in Section~\ref{sec:objectives}.

The first major manifestation of this technological convergence, especially with respect to consumer markets, is the so-called ``smartphone'', which incorporates or supports all four of the above-mentioned technologies. Looking at the history of mobile devices, it is difficult to say which mobile phone can be considered the first smartphone. The first commercially-available phone with a \gls{gps} receiver, the \emph{Benefon Esc!}, was released in 1999. In terms of marketing, the Ericsson R380, released in 2000, was the first mobile phone to be called a smartphone. In terms of the four technologies listed above, the Samsung SCH-S310, introduced in 2005, was probably the first to exhibit all four. The first iPhone was released in 2007, and the first Android phone was released in 2008.

About 64 million smartphones were sold globally in 2006 \cite{canalys_2007}, and by 2008 this number exceeded 139 million \cite{Gartner2009}. By 2012, there were already more than one billion smartphones in use worldwide \cite{Mawston2012}. This number is forecast to reach nearly 2.5 billion in 2015 \cite{KoreaTimes2014}. These devices allow their users to stay ``connected'' virtually everywhere they go, and consequently anyone can connect to these billion plus users from any networked device, including desktop computers and ``land-line'' phones---no matter where the user is located or traveling to. Ironically, in many technologically advanced societies, it is now considered a societal and/or behavioral challenge for one to go ``off the grid'' or ``disconnected'' for any extended period of time.

It is our view that the smartphone is only the first manifestation of this technological revolution. Many other so-called ``smart'' devices are soon to follow: ``smartwatches'' and the use  of various wearable sensors may soon become a mainstay consumer habit. In addition, the same technologies that have made smartphones possible and popular are quickly making their way into existing everyday devices, including cars, home appliances, and even toothbrushes. Furthermore, it is not just consumer markets that are being transformed but also many industrial markets, ranging from manufacturing to commercial shipping. It would be  na\"{\i}ve to speculate exactly how this revolution will play out in the coming decades, but is clear is that it is already changing the lifestyles, habits, and possibilities of people living in the early 21st century, especially those who can afford these (currently) ``high-end'' consumer devices.

Aside from being a convergence of new digital technologies, is there any unifying concept or principle that is underlying this technological revolution? Some would argue that it is the increased levels of \emph{mobility} that these technologies provide. Others have rallied under the banner of \emph{ubiquitous computing} or \emph{pervasive computing}, which describes the fact that computing devices can now be found nearly everywhere one looks. Certainly these are two important characteristics giving wind to this revolution, but we argue in this thesis towards another underlying principle that provides a common thread and deep insight into how our relationship to these computing devices is changing.

One common development, of course, is the increasing ability of computing devices to fulfill various user desires, e.g. to download large amounts of data at high speeds, to capture or render various high-quality multimedia content, to store and edit content in various ways, etc. What is not advancing or expanding---at least, not at any considerable rate---is the patience or attention span of the users themselves. Therefore, users are expecting (consciously or not) that their devices will ``do more'' with essentially the same total quantity and quality of human input. Fortunately, however, these devices are rapidly advancing in their ability to know what their users want or need without the user having to explicitly formulate and express these desires to the computer. This is the goal under which this thesis is motivated and focused---to improve our understanding of how computing devices can better understand us and our needs.

The primary method by which this thesis aims to achieve this goal is through \emph{machine learning}. According to Tom Mitchell and co-authors, ``machine learning research seeks to develop computer systems that automatically improve their performance through experience'' \cite{Mitchell1990}. This is our favorite definition of machine learning among the many found in the literature, but we note that achieving such a system is incredibly difficult. Most methods that go by the name of ``machine learning'' fail to meet the definition in terms of \emph{automatically} improving performance. Nonetheless, the discipline of machine learning has grown in recent decades, and the set of techniques going by the name of machine learning are indeed very powerful. In many ways, machine learning has become the preferred framework for building up systems that understand users' needs. Some observers may note that such systems exhibit---or at least attempt to exhibit---\emph{artificial intelligence}.

\gls{ai} has been an elusive goal of computer science researchers ever since the term was coined in 1955\footnote{Although McCarthy is usually credited with coining the term artificial intelligence, we note that its first usage in the literature was a paper co-authored by McCarthy, Minsky, Rochester, and Shannon \cite{McCarthy1955}. Therefore, it is not entirely clear who first came up with this term, and in an interview even McCarthy himself could not recall.%TODO: Provide reference
}. Although computers have not yet replicated human intelligence in a general sense, there are many tasks of increasing complexity that computers can already perform equally well or even better than the most gifted, well-trained humans. As detailed in \cite{brynjolfsson_2014}, computers have been programmed to beat even the best human players of the game-show \emph{Jeopardy!}, to write corporate earnings previews for \emph{Forbes.com} that are indistinguishable from ones written by humans, and to diagnose breast cancer from images of tissue as good as or even better than pathologists could otherwise do\footnote{To be precise, what Brynjolfsson and McAfee describe is a system, known as C-Path, that helped to diagnose breast cancer and also identified new features of breast cancer tissue that were shown to be good features for predicting survival.}. Such examples demonstrate the increasing practicality of artificial intelligence, but what about understanding users' needs? Is it possible for a computer or computing system (including various sensors) to know what its user needs or wants before he or she makes any keystroke or swipes any touchscreen? Such a system would be considered by many to exhibit a high level of artificial intelligence.

\section{Research objectives and Scope}
\label{sec:objectives}

The goal stated above is ambitious and open-ended. It is our view that we are not even close to unleashing the full potential of computing devices to understand their users. In many ways, smartphones and other so-called \emph{smart devices} are not yet ``smart''. They have the ``brawn and not the brains, in the sense that they are powerful and capable but deficient in understanding the user's needs. This thesis aims to improve the state-of-the-art in a computer's ability to understand situations or contexts that humans find themselves in. Mobile computing researchers have adopted the term \emph{context awareness} to refer to this ability. In other domains, such as aviation, maritime, and military domains, the term used is situational awareness (or situation awareness)\footnote{For consistency, in this thesis we primarily use the term context awareness, although it can be considered synonymous with the term situation(al) awareness.}. In particular, this thesis will focus on how machine learning can be utilized for building context or situation awareness, in order to solve problems in navigation. Highly respected navigation researcher Dr. Paul Groves has called context one of the four key challenges for the next generation of navigation technologies \cite{Groves2014}.

Thus, we have limited the scope of the research to a reasonably-sized domain. That being said, improvements in the state-of-the-art in context awareness have wide-ranging applications, and it is our hope that the few example applications given in this thesis are seen as merely examples and not as end goals in themselves. For example, there are a wide range of rich mobile applications that can be enabled with the aid of context awareness, and researchers have identified context awareness as one of the key open issues in mobile computing research \cite{Abolfazli2014}.

In this thesis, we focus on three tasks related to context awareness that are relevant to the field of navigation: (1) to recognize the activity of a smartphone user in an indoor office environment, (2) to recognize the mode of motion that a smartphone user is undergoing outdoors, and (3) to determine the optimal path of a ship traveling through ice-covered waters. These tasks are very different from one another, especially the third task with respect to the first two, demonstrating the breadth of problems encompassed by the topic of context awareness. They were chosen, in part, to show how machine learning can be a powerful tool to tackle a wide range of different problems. They also demonstrate wildly different aspects of ``understanding users' needs'' for different types of users.

The first task is important for navigation because a navigation system can adapt and improve its performance based on the motion mode in which it is used, but it would be easier if the user did not have to manually change the modes of the navigation system when he or she transitions, e.g. from walking to driving. In other words, a context-aware navigation system would automatically know that a pedestrian user needs a pedestrian navigation system and a driving user needs a car navigation system; it would adapt itself automatically according to these different needs.

Similarly, the second task provides possible enhancements for a navigation or position tracking system that must work also indoors. For example, if the system detects that a user is sitting and working in a static position (e.g. seated at a desk), then it can apply a positioning filter that assumes little or no changes in user position (and perhaps go into a low power consumption mode), but when it detects that the user has stood up, it can change the filter to one that assumes greater possibilities for movement. If the system later detects that the user has done some routine activity, e.g. fetched a fresh cup of coffee, it can apply a post-processing filter to refine the position tracking history, perhaps removing outliers or some other desired refinement.

The third task is a rather classic problem in maritime navigation, but surprisingly this function has been and continues to be performed in a manual way (i.e. the ship captain or navigator manually choosing the route based on ice charts, local observations, and experience). It is also becoming increasingly important to find efficient paths through ice-covered waters due to the opening up of northern sea routes, as well as increased wintertime maritime transport in general (e.g. in the Baltic Sea). In terms of understanding the users needs, this capability means that if maritime conditions change such that the captain or navigator needs to alter its route, based on changing ice conditions or other factors, an ``ice-aware'' navigation system could automatically inform the ship's crew that a new route is recommended and even suggest the optimal route to the crew.

A plethora of other examples of the utility of context awareness could be given, even within the strict confines of navigation, but due to limitations in time, this thesis will only investigate the above three examples, which have been researched and published in separate publications and republished here for completeness.

\section{Main Contributions}
\label{sec:contributions}

This research explores an important and previously under-examined link between machine learning and context awareness and exploits this link to demonstrate possible applications in the field of navigation. The author has developed a generic conceptual framework for the multi-step processing of raw sensor data into contextual information, which had been largely lacking in the literature. 

Also, most earlier studies on context awareness either adopt a rather narrow view of context or do not provide any clear framework or mechanism of how to encode a situation or context in a systematic way. This thesis proposes and describes a simple but powerful framework for describing a context in terms of seven key questions, covered further in Chapter~\ref{ch:context_awareness} and [P1]. Together, these two conceptual frameworks benefit the research community by making the abstract and ambiguous concepts ``context'' and ``context awareness'' more concrete and clearly defined and by providing a methodological skeleton on which to build context-aware systems.

In addition, this thesis examines three separate use case scenarios or applications of context awareness. These relate to the three tasks described in Section~\ref{sec:objectives} above. The remainder of this section descibes the key contributions related to these use case scenarios.

Firstly, the thesis presents a probabilistic \gls{locomo} model, combining location and motion context, used to detect human behavior (i.e. activities) in an indoor office environment. The sensors used to detect the human behavior include only sensors available in commercial-off-the-shelf (COTS) smartphones, as well as WLAN-based access points used for the positioning component. To our knowledge, this is the first study focused on detecting office-environment activities that utilizes only smartphone-based sensors and standard WLAN access points. This is significant because earlier studies mostly relied on installation of custom-designed sensors in the office environoment. As smartphones and WLAN access points are already widely present in office environments around the world, the results of this research has more potential for widespread application.

A problem related to the above topic is the determination of whether a smartphone user is indoors or outdoors. This is important contextual information because the optimal positioning systen differs depending on whether the user is indoors or outdoors. Another important benefit of this contextual information is that it can be used to conserve smartphone battery usage. Outdoor positioning systems, namely those based on Global Navigation Satellite Systems, are power intensive and can be turned off automatically when the user is indoors. The method described in this thesis  for indoor-outdoor determination is, according to our knowledge, the first smartphone-based probabilistic indoor-outdoor method described in the literature.

Compared to earlier works on detecting activities in an office environment, the methods described in this thesis are more flexible and robust. For example, \cite{Manabe2010} relies on sensors installed in an office chair and multiple cameras installed in an office room to infer activity. By contrast, our method can be used anywhere within an office building where WLAN signals are present.

Next, this thesis includes a systematic evaluation of a large number of machine learning algorithms applied to the problem of detecting ''mobility contexts``, including consideration of the computational cost of the resulting classifiers, due to the intended use in mobile devices. The number of algorithms investigated and applied to this problem is larger than any other previous study, according to our knowledge. Also, most existing studies dealing with mobility context do not consider or evaluate the computation cost of classifiers, so our study is novel in this aspect.

Furthermore, our study is the first research on mobility context to utilize GNSS, accelerometers, and information from Geographic Information Systems (GIS) for the purposes of detecting mobility context\footnote{This research was first published as a conference paper in 2013 (see \cite{Guinness2013}). The publication included in this thesis is an extended version of this earlier study.}. In particular, GIS is an important source of information for detecting mobility context because it can be used to determine proximity to relevant landmarks, such as train stations and bus stops. Earlier studies did not consider this important source of semantic information, and our research provides strong evidence, as a result of feature selection, that such information improves the context recognition result.

Our research also studied the influence of parameter tuning for the RandomForest algorithm for this particular machine learning problem. After parameter tuning, we achieved an average recall rate of \textgreater97.5\% for our test data. We are not aware of any other study achieving this level of performance for a comparable classification problem.

Lastly, for the purposes of developing an ''ice-aware`` maritime navigation system, we developed a novel method for route optimization. Compared to earlier works in this area, our method is the first to adopt a graph-based approach to the problem of route optimization through ice-covered waters. An earlier study tackling the same issue expressed the route optimization problem as a differential equation and used numerical methods to solve it, such as Powell's method \cite{kotovirta2009system}. Such methods, however, do not guarantee a global optimum. Due to the complex nature of ice fields, local minimums can be significantly worse than the global optimum.

The benefit of a graph-based approach is that shortest-path algorthms exist that can guarantee an optimal solution. The main novelty in our method is the design of a suitable graph structure that provides a reasonable trade-off between realistic modelling of ship motion and computational complexity. We employed the A* algorithm to find the optimal path. We are aware of only one previous study that investigated the use of the A* algorithm in a maritime setting, and this study focused exclusively on littoral (near-shore) navigation \cite{cummings2010supporting}. Furthermore, it did not consider ice-covered waters. Finally, we incorporated into our method an operational contraint related to ice breaker assistance, which was not considered in earlier studies. 

\section{Thesis Outline}
\label{sec:outline}
 
The remainder of this thesis is organized as follows. Chapter 2 provides a theoretical and historical overview of the topic of context awareness. Chapter 3 provides an overview of machine learning. Chapter 4 summarizes and provides an overview of the included publications. Finally, Chapter 5 offers some conclusions that can be drawn from the author's overall work to date in context awareness and provides some suggestions for future areas of research and development.